# threat-modeling
# Практика №1. Риски, угрозы и моделирование угроз корпоративной инфраструктуры

> Задание к практической работе №1
> 
> - В [draw.io](http://draw.io/) создать пустой файл или (Альтернативный вариант - В EVE-NG создать новую лабораторную работу с название "Infrastructure" (для продвинутых) + [инструкция по развертыванию](https://hackmd.io/@sadykovildar/HyETZyhJF))
> - Построить примерную модель корпоративной инфраструктуры в одном из инструментов. Если нет примеров - можно построить домашнюю
> - Обозначить, на ваш взгляд, наиболее опасные (или уязвимые места в корпоративной инфраструктуре)
> - Придумать 3-5 сценариев атаки на корпоративную инфраструктуру с указанием целей атак

![Untitled](https://github.com/user-attachments/assets/b4f18261-06d3-40ad-9bcd-e3d268439b38)

### Наиболее опасные места

---

### **1. Роутер**

**Уязвимости**:

- **Слабые или стандартные пароли для доступа к административной панели**: Это позволяет злоумышленникам легко получить доступ к настройкам роутера.
- **Устаревшая прошивка**: Может содержать известные уязвимости, которые могут быть использованы для удаленного выполнения кода или повышения привилегий.
- **Открытые порты**: Могут предоставить злоумышленникам доступ к внутренним сервисам и устройствам.
- **Отсутствие шифрования**: Недостаточное шифрование данных между роутером и устройствами облегчает перехват данных.

В моем случае используется самое надежное из доступных для роутера

![image](https://github.com/user-attachments/assets/10aab4d1-9084-472e-8f03-db844dd5b10d)


**Меры предосторожности**:

- **Сложный пароль**: Установить сложный, уникальный пароль для доступа к административной панели, а не admin admin)
- **Обновление прошивки**: Регулярно проверять наличие обновлений прошивки и устанавливать их.
- **Закрытие ненужных портов**: Проверить настройки роутера и закрыть все неиспользуемые порты.
- **Использование WPA3**: Включить WPA3 для шифрования Wi-Fi, если это возможно
- **Отключить Universal Plug and Play:** Роутер взаимодействует с системой UPnP, чтобы домашние устройства получали доступ в интернет. Поскольку многие устройства не защищены паролем или один и тот же пароль используется для всех устройств, в системе безопасности возникает уязвимость. UPnP помогает выполнить настройку устройства, однако как только устройство заработает, рекомендуется отключить на нем функции UPnP, а на роутере – совместимость с UPnP.

![image](https://github.com/user-attachments/assets/8312e42d-15f8-4215-a1e2-d9f1223ef899)


### **2. Беспроводная сеть (Wi-Fi)**

**Уязвимости**:

- **Устаревшие методы шифрования**: Использование WEP или WPA значительно снижает безопасность сети.
- **Легкие пароли**: Простые и легко угадываемые пароли делают сеть уязвимой для атак.
- **Отсутствие изоляции клиентов**: Позволяет устройствам взаимодействовать друг с другом, что может привести к распространению атак.

**Меры предосторожности**:

- **WPA3 или WPA2**: Используйте WPA3 или, если недоступен, WPA2 с сильным паролем.
- **Сложный пароль**: Установить длинный и сложный пароль для Wi-Fi.
- **Изоляция клиентов**: Включить функцию изоляции клиентов на роутере.

### **3. Устройства в сети**

**Уязвимости**:

- **Устаревшее ПО и прошивки**: Содержат известные уязвимости.
- **Отсутствие антивирусного ПО**: Увеличивает риск заражения вредоносным ПО.
- **Слабые пароли**: Упрощают несанкционированный доступ к устройствам.

**Меры предосторожности**:

- **Регулярное обновление ПО**: Обновлять прошивки и ПО всех устройств.
- **Антивирусное ПО**: Устанавливать и обновлять антивирусные программы.
- **Сложные пароли**: Использовать уникальные и сложные пароли для каждого устройства.

### **4. Открытые порты и службы**

**Уязвимости**:

- **Открытые порты**: Доступные из интернета порты могут быть использованы для атак.
- **Уязвимые сервисы**: Работающие на устройствах сервисы могут содержать уязвимости.

**Меры предосторожности**:

- **Сканирование сети**: Периодически сканировать сеть на наличие открытых портов и закрывайте ненужные.
- **Обновление сервисов**: Регулярно обновлять все сервисы и приложения

### **Сценарии атак**

---

![image](https://github.com/user-attachments/assets/62fe6b8f-7fbe-41e7-a610-c91d5e6f97eb)


![Untitled 4](https://github.com/user-attachments/assets/6682e544-af6c-43e2-a2a7-f21acff799f1)


1. **Фишинг-атака**
    
    **Цель атаки**: Кража личной информации и получение удаленного доступа.
    
    **Описание**:
    
    - Злоумышленник отправляет фишинговое письмо с вредоносной ссылкой или вложением.
    - Открываем письмо и загружаем вредоносное ПО или нажимаем на ссылку по незнанию/невнимательности.
    - Вредоносное ПО устанавливается на ноутбук, предоставляя злоумышленнику удаленный доступ.
    
    **Возможный итог**:
    
    - Кража личной и финансовой информации.
    - Доступ к другим устройствам в сети.
    - Развертывание более сложных атак, таких как ransomware.
    
    **Оценка угрозы**:
    
    - **Тип доступа (d)**: 3 (удаленный)
    - **Уровень сложности (p)**: 3 (повышенный)
    - **Значимость ресурсов (s)**: 3 (высокая)
    - **Уровень угрозы (W)**: 3 + 3 + 3 = 9 (высокий)
    
2. **Атака на домашнюю сеть через уязвимость в IoT-устройстве**
    
    ![Untitled 5](https://github.com/user-attachments/assets/c6bf67d6-822c-469f-84c4-7e034db3148d)

    
    **Цель атаки**: Использование IoT-устройства для доступа к локальной сети и другим устройствам.
    
    **Описание**:
    
    - Злоумышленник находит уязвимость в одном из IoT-устройств (например, smart tv или робот-пылесос).
    - Внедряет вредоносное ПО через эту уязвимость.
    - Вредоносное ПО позволяет злоумышленнику сканировать и атаковать другие устройства в локальной сети.
    
    **Возможный итог**:
    
    - Захват управления устройствами в сети.
    - Перехват данных и команд для других IoT-устройств.
    - Развертывание сложных атак на компьютеры и серверы.
    
    **Оценка угрозы**:
    
    - **Тип доступа (d)**: 2 (локальный)
    - **Уровень сложности (p)**: 3 (повышенный)
    - **Значимость ресурсов (s)**: 2 (средняя)
    - **Уровень угрозы (W)**: 2 + 3 + 2 = 7 (средний)
3. **Атака на мобильное устройство через публичный Wi-Fi**
    
    **Цель атаки**: Перехват данных и получение удаленного доступа к устройству.
    
    **Описание**:
    
    - Злоумышленник настраивает поддельный публичный Wi-Fi в месте с большим скоплением людей.
    - Подключаемся к этому Wi-Fi и вводим свои учетные данные на разных сайтах.
    - Злоумышленник перехватывает данные и использует их для получения доступа к учетным записям пользователя и устройству.
    
    **Цель**:
    
    - Кража личной и финансовой информации.
    - Доступ к другим устройствам в локальной сети пользователя.
    - Развертывание сложных атак на устройства пользователя.
    
    **Оценка угрозы**:
    
    - **Тип доступа (d)**: 3 (удаленный)
    - **Уровень сложности (p)**: 2 (средний)
    - **Значимость ресурсов (s)**: 3 (высокая)
    - **Уровень угрозы (W)**: 3 + 2 + 3 = 8 (высокий)
4. **Supply Chain Compromise**
    
    **Цель атаки:** Компрометация домашней сети для получения несанкционированного доступа к устройствам и данных.
    
    **Описание**: 
    
    Злоумышленники могут воспользоваться уязвимостями в цепочке поставок для внедрения вредоносного кода в прошивки или ПО, которые автоматически устанавливаются на устройства в сети.
    
    - Злоумышленники могут использовать уязвимость в прошивке роутера для доступа и управления сетевыми устройствами.
    
    Вредоносная прошивка на роутере позволяет злоумышленникам перехватывать весь трафик, проходящий через роутер.
    Они могут сделать редирект поддельные сайты (например, для фишинга), читать незашифрованные данные, подключаться к любому устройству в сети и внедрять дополнительные угрозы.
    
    - Могут взломать Smart TV через уязвимость в прошивке или приложениях
    - Могут использовать уязвимости в драйверах и утилитах принтера для перехвата печатных документов и сетевых данных.
    
    и т.д.
    
    **Оценка угрозы**:
    
    - **Тип доступа (d)**: 2 (локальный)
    - **Уровень сложности (p)**: 3 (повышенный)
    - **Значимость ресурсов (s)**: 2 (средняя)
    - **Уровень угрозы (W)**: 2 + 3 + 2 = 7 (средний)
